CREATE TABLE [dbo].[FilmRatings] (
    [FilmRatingId] [uniqueidentifier] NOT NULL,
    [Rating] [int] NOT NULL,
    [Comment] [nvarchar](max),
    [FilmId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.FilmRatings] PRIMARY KEY ([FilmRatingId])
)
CREATE INDEX [IX_FilmId] ON [dbo].[FilmRatings]([FilmId])
CREATE TABLE [dbo].[Films] (
    [FilmId] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    [Description] [nvarchar](max),
    CONSTRAINT [PK_dbo.Films] PRIMARY KEY ([FilmId])
)
ALTER TABLE [dbo].[FilmRatings] ADD CONSTRAINT [FK_dbo.FilmRatings_dbo.Films_FilmId] FOREIGN KEY ([FilmId]) REFERENCES [dbo].[Films] ([FilmId]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201607271553308_Create_Initial_Tables', N'DbUpApplication.Migrations.Configuration',  0x1F8B0800000000000400D559DB6EE336107D2FD07F20F4D416592BC9BEB486BD8BD48E174137F1224E167D0B6869EC10A5482D4905368A7E591FFA49FD858EAE9644C9F225C96E1120B0C999C3B91C0E67927FFFFE67F07E1570F2044A332986CE59EFD421203CE933B11C3A9159BCF9D979FFEEFBEF06977EB0229F73B9B7B11C6A0A3D741E8D09FBAEABBD4708A8EE05CC5352CB85E9793270A92FDDF3D3D35FDCB3331710C2412C4206B791302C80E40B7E1D49E1416822CAAFA50F5C67EBB8334B50C90D0D4087D483A1339EDF871761C899470DDAD24B341C72C119456366C0170EA14248936CF7EF35CC8C9262390B7181F2BB750828B7A05C43E6427F23BEAB37A7E7B137EE463187F2226D64B027E0D9DB2C3C6E5DFDA0203B45F83080971868B38EBD4E823874268C07B7082E960EA91FD71F71158BB644B9B7D13D21358993821CC8A1F8E7848C226E220543019151949F904FD11CC57F83F59DFC03C450449C976D456B71AFB2804B9F940C4199F52D2C2C0FAE7C87B85504B70E5100346AA7DE7E88187EBE417BE89C43C10E772B501EC414E24A98B7E77B638C641080303908323581BCA6AB8F2096E671E8E047874CD80AFC7C2503BE170CAF292A1915759E133BBDAFBB37F4892D93DC368039E41678B2A91F5998DEBB123D1E52998992C1ADE495A8275B0F3319290FCFBC93CDFB77542DC1546D1AB81B327752FC30727F6D5A1F4AE823A91CFF7E710E8E417B8A8569597BD6B3DA8871A1B5F4589247EBF2A70CAD1A7C297CD241D7D4EC2AD9D17EA4048B3983460C9D9FAC48B403E73CAF01D721CF9C3A7FA6620C1C0C900B2F7D6746547BD4B7B380B1F1AB2B4839505875F035C4875723899930363F99F05848F976C36B6A7B103B36AD38A4BE338610848F366ECFC771A71787D402D6159F815B22965D8850C7A006A89201E379BC0A2BD35096B043C92A93CEC85D274F8C3A036371583B6443FC065A5A2CB481DA202CE592CB4DA66405BF24D5F226D4B3D07DE70AB36BAE5B09EDBE6535280BA49259146BA8314576373DAA9B36A97933EBB674B3836B1A86B1E91BCD6C85CCD2D676F466B67FC317A418AEA71BFABEC2DAE22423155D426D376E447C9830A5CD981A3AA771C11DF9812556E5720BBDF2B36CBADA19CBA997EBC49FB3E7A2A3036DB8FC19C8043D8CBBAAC45968A48FAD9CCC1A9453B5B55D1C491E05A2BB0DDD8698DFCE3256F38DDD8652748E65986271779CBC3CD63D6BF669E0D6626C15552BA5D66B5465C9CE1C7A2EF61CC89BFD18B37B44DB50D296AC8C91AEEC8E50E9B7CA40958D57CEB15546EB22C5E94539AD95CD4156C2BAFF5260D5B454C42118A827E6C7F56CB6D606825E2CD09B7DE123CE92EB930B5C53C116A04DDAD83B38A99FD7FED2F0ED4CFDAED63EDF79F4FF26C6EE48B02F11B0B805630B06EAC8119CC5A93B6E00174F54798F54FD10D0D58F65B0FD876CDB39ABF3BBC2EE733574FE4CF4FBE4EAF78714E2844C15B2AF4F4EC95F1D1EED37137FB5A9F4E84C9727D4A392D43085EE81F73293E6EB8E7F4D6DF2C193EDC1B3E4EB4F8EFF8F69D16EC4779D063B86C1F4F11B3AFE5C62B653826F99A71A0F6A1D16DBC06DD8D79923AD516FC771B165DA7C9939D16E64904DA57F8C2097355B6E20E27F9308F02A3C2A64AEC442E674AE59948BD42AE13518EA23C92E14D664EA19DCF640EBC4DDCF9447287219CCC1BF12D3C8849141972198F3753918F1B5D8767E320C576D1E4C93E2AB9FC3053493A10B3015BF468CFB85DD938687B20522BE6F1F00D7D35CE2F535B05C17483752EC089485AF28137710841CC1F454CCE8131C62DBBD868FB0A4DE3AEF47DB41BA13510DFB60CCE852D14067181B7DFC8A1CF683D5BBFF00127562221F1C0000 , N'6.1.3-40302')